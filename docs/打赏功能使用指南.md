# 微信收款码打赏功能使用指南

## 功能介绍

PCB阻抗计算器现已集成微信收款码打赏功能，支持用户打赏支持项目开发。

## 功能特点

✨ **功能亮点**
- 🎨 精美的打赏弹窗界面
- 📱 支持微信收款码展示
- 💰 可自定义建议金额
- 📝 可自定义感谢文案
- ⚙️ 完整的后台管理界面
- 💾 本地存储，无需数据库

## 使用方法

### 1. 设置收款码

1. 访问计算器主页：`http://your-domain.com/`
2. 点击右上角的 `⚙️ 打赏设置` 链接
3. 在管理页面上传您的微信收款码图片
4. 设置收款码描述、建议金额和感谢文案
5. 保存设置

### 2. 管理打赏设置

访问管理页面：`http://your-domain.com/admin`

**可以管理的内容：**
- 📷 上传/更换微信收款码
- 📝 设置收款码描述文字
- 💰 自定义建议打赏金额
- 💌 自定义感谢文案
- 👀 实时预览打赏页面效果

### 3. 用户打赏流程

1. 用户在计算器页面点击右下角的 `❤️ 打赏支持` 按钮
2. 弹出打赏窗口，显示微信收款码
3. 用户使用微信扫码支付
4. 完成打赏

## 文件结构

```
src/
├── templates/
│   ├── index.html      # 主页（包含打赏按钮和弹窗）
│   └── admin.html      # 打赏设置管理页面
└── app.py             # Flask应用（包含管理页面路由）
```

## 技术实现

### 存储方式
- 使用浏览器 `localStorage` 存储设置
- 无需数据库，部署简单
- 支持图片 Base64 编码存储

### 响应式设计
- 支持桌面和移动设备
- 打赏弹窗适配各种屏幕尺寸
- 优雅的交互动画效果

### 安全性
- 纯前端实现，无敏感信息传输
- 收款码图片本地存储
- 支持拖拽上传和点击上传

## 自定义样式

### 修改打赏按钮
在 `index.html` 中找到 `.donate-btn` 样式类：

```css
.donate-btn {
    background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
    /* 可以修改背景色、位置等 */
}
```

### 修改弹窗样式
在 `index.html` 中找到 `.donate-modal` 和 `.donate-content` 样式类进行自定义。

## 常见问题

### Q: 如何更换收款码？
A: 访问 `/admin` 页面，上传新的收款码图片并保存。

### Q: 支持哪些图片格式？
A: 支持 JPG、PNG、GIF 格式，建议尺寸 200x200px。

### Q: 设置会丢失吗？
A: 设置保存在浏览器本地存储中，清除浏览器数据会丢失设置。

### Q: 可以禁用打赏功能吗？
A: 可以通过删除收款码或注释掉相关代码来禁用。

### Q: 支持支付宝收款码吗？
A: 目前主要针对微信，但可以上传支付宝收款码图片，修改描述文字即可。

## 部署说明

1. 确保所有文件已更新
2. 重启 Flask 应用
3. 访问管理页面设置收款码
4. 测试打赏功能是否正常

## 注意事项

⚠️ **重要提醒**
- 请使用您自己的微信收款码
- 定期备份设置（可以导出 localStorage 数据）
- 收款码图片会占用浏览器存储空间
- 建议收款码图片不要超过 500KB

## 技术支持

如有问题，请检查：
1. 浏览器控制台是否有错误信息
2. 图片格式是否支持
3. 浏览器是否支持 localStorage

---

*感谢您使用 PCB 阻抗计算器的打赏功能！您的支持是我们持续改进的动力。* ❤️